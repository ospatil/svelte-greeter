!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SvelteGreeter=e()}(this,function(){"use strict";function t(){}function e(t){for(var e,n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(e in n)t[e]=n[e]}return t}function n(t,e){e.appendChild(t)}function o(t,e,n){e.insertBefore(t,n)}function r(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function a(t,e,n){t.addEventListener(e,n,!1)}function u(t,e,n){t.removeEventListener(e,n,!1)}function c(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function h(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function f(t,e,n,o,r){for(var i in e)if(n[i]){var s=o[i],a=r[i],u=e[i];if(u)for(var c=0;c<u.length;c+=1){var h=u[c];h.__calling||(h.__calling=!0,h.call(t,s,a),h.__calling=!1)}}}function l(t){for(;t&&t.length;)t.pop()()}function _(t,e){function c(){p=!0,e.set({name:l.value}),p=!1}function h(t){e.onClick()}var f,l,_,d,m,p=!1;return{create:function(){f=i("div"),l=i("input"),_=s("\n\t"),d=i("button"),m=s("greet"),this.hydrate()},hydrate:function(t){f.className="svelte-greeter",l.type="text",l.placeholder="Enter your name",l.name="name",a(l,"input",c),a(d,"click",h)},mount:function(r,i){o(f,r,i),e.refs.root=f,n(l,f),l.value=t.name,n(_,f),n(d,f),n(m,d)},update:function(t,e){p||(l.value=e.name)},unmount:function(){r(f)},destroy:function(){e.refs.root===f&&(e.refs.root=null),u(l,"input",c),u(d,"click",h)}}}var d={destroy:c,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1)n[o].call(this,e)},observe:function(t,e,n){var o=n&&n.defer?this._observers.post:this._observers.pre;return(o[t]||(o[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=o[t].indexOf(e);~n&&o[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this._root._lock||(this._root._lock=!0,l(this._root._beforecreate),l(this._root._oncreate),l(this._root._aftercreate),this._root._lock=!1)},teardown:c,_recompute:t,_set:function(t){var n=this._state,o={},r=!1;for(var i in t)h(t[i],n[i])&&(o[i]=r=!0);r&&(this._state=e({},n,t),this._recompute(o,this._state,n,!1),this._bind&&this._bind(o,this._state),f(this,this._observers.pre,o,this._state,n),this._fragment.update(o,this._state),f(this,this._observers.post,o,this._state,n))},_mount:function(t,e){this._fragment.mount(t,e)},_unmount:function(){this._fragment.unmount()}},m={data:function(){return{greeting:"",name:""}},methods:{onClick:function(){console.log("svelte-greeter:onClick: ",event),console.log("Publishing message event up the DOM tree!");var t=new CustomEvent("message",{detail:this.get("greeting")+" "+this.get("name")+"!",bubbles:!0,cancelable:!0});this.refs.root.dispatchEvent(t)}}},p=function(t){function n(n){void 0===n&&(n={}),t.call(this),this.options=n,this.refs={},this._state=e(m.data(),n.data),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=n._root||this,this._yield=n._yield,this._bind=n._bind,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="<style>.svelte-greeter{font-family:Courier New, Courier, monospace;font-weight:bold;font-size:20px}.svelte-greeter input{margin:10px;font-size:0.8em;color:rgba(0,0,0,.5)}.svelte-greeter button{border-style:none;background-color:#FFF3E0;color:rgba(0,0,0,.5);cursor:pointer;font-size:0.8em;padding:0.3em}</style>",this._fragment=_(this._state,this),n.target&&(this._fragment.create(),this._mount(n.target,n.anchor||null))}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var o={name:{}},r={observedAttributes:{}};return r.observedAttributes.get=function(){return["name"]},o.name.get=function(){return this.get("name")},o.name.set=function(t){this.set({name:t})},n.prototype.attributeChangedCallback=function(t,e,n){this.set((o={},o[t]=n,o));var o},Object.defineProperties(n.prototype,o),Object.defineProperties(n,r),n}(HTMLElement);return customElements.define("svelte-greeter",p),e(p.prototype,m.methods,d,{_mount:function(t,e){this._fragment.mount(this.shadowRoot,null),t.insertBefore(this,e)},_unmount:function(){this.parentNode.removeChild(this)}}),p});
//# sourceMappingURL=bundle.js.map
